<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>SPTech Games | Simulador</title>

  <script src="./js/sessao.js"></script>

  <link rel="stylesheet" href="./css/estilo.css">
  <link rel="icon" href="./assets/icon/favicon2.ico">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <div id="pagina">

    <!-- HEADER  -->
    <div class="header">
      <div class="container">
        <h1 class="titulo">SPTech Games</h1>
        <ul class="navbar">
          <li class="agora">
            <a href="index.html">Inicial</a>
          </li>
          <li>
            <a href="simulador.html">Simulador</a>
          </li>
          <li>
            <a href="#" onclick="Exibir()"><img src="assets/imgs/hamburguer-icone.png"
                style="display: block; width: 50px;" alt=""></a>
          </li>
        </ul>
      </div>

      <div id="div_escondida" style="display: none;">
        <div class="janela">
          <div class="header-left">

            <div class="hello">
              <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
            </div>

            <div class="btn-nav-white" style="display: block;" id="div_cadastro">
              <a href="cadastro.html">
                <h3>Cadastrar</h3>
              </a>
            </div>

            <div class="btn-nav-white" style="display: block;" id="div_login">
              <a href="login.html">
                <h3>Login</h3>
            </div>

            <div class="btn-nav-white" style="display: none;" id="div_perfil">
              <a href="perfil.html">
                <h3>Perfil</h3>
            </div>

            <div class="btn-nav-white">
              <a href="simulador.html">
                <h3>Simulador</h3>
              </a>
            </div>

            <div class="btn-logout" onclick="limparSessao()">
              <h3>Sair</h3>
            </div>

          </div>
        </div>
      </div>
    </div>

    <!-- HEADER  -->

    <a href="dashboard/dashboard.html">Dashboard</a>

    <!-- simulador inicio -->
    <div class="simulador">
      <div class="container">
        <div style="width: 40%;">
          <canvas id="donut"></canvas>
        </div>
        <h2>Simulador</h2>
        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium tempora architecto sint fugit
          dolorum? Ipsum laborum magnam similique labore, voluptate amet reprehenderit rem ab blanditiis quisquam
          laboriosam eaque alias. Reiciendis. Lorem ipsum, dolor sit amet consectetur adipisicing elit.
          Accusantium tempora architecto sint fugit dolorum? Ipsum laborum magnam similique labore, voluptate amet
          reprehenderit rem ab blanditiis quisquam laboriosam eaque alias. Reiciendis.</p>
        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium tempora architecto sint fugit
          dolorum? Ipsum laborum magnam similique labore, voluptate amet reprehenderit rem ab blanditiis quisquam
          laboriosam eaque alias. Reiciendis. Lorem ipsum, dolor sit amet consectetur adipisicing elit.
          Accusantium tempora architecto sint fugit dolorum? Ipsum laborum magnam similique labore, voluptate amet
          reprehenderit rem ab blanditiis quisquam laboriosam eaque alias. Reiciendis.</p>
        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium tempora architecto sint fugit
          dolorum? Ipsum laborum magnam similique labore, voluptate amet reprehenderit rem ab blanditiis quisquam
          laboriosam eaque alias. Reiciendis. Lorem ipsum, dolor sit amet consectetur adipisicing elit.
          Accusantium tempora architecto sint fugit dolorum? Ipsum laborum magnam similique labore, voluptate amet
          reprehenderit rem ab blanditiis quisquam laboriosam eaque alias. Reiciendis.</p>
        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium tempora architecto sint fugit
          dolorum? Ipsum laborum magnam similique labore, voluptate amet reprehenderit rem ab blanditiis quisquam
          laboriosam eaque alias. Reiciendis. Lorem ipsum, dolor sit amet consectetur adipisicing elit.
          Accusantium tempora architecto sint fugit dolorum? Ipsum laborum magnam similique labore, voluptate amet
          reprehenderit rem ab blanditiis quisquam laboriosam eaque alias. Reiciendis.</p>

      </div>
    </div>
    <!-- simulador fim -->

    <!--footer inicio-->
    <div class="footer">
      <div class="container">
        <h4>Feito com amor por aluno &hearts; SPTech &copy; 2023</h4>
        <span class="version">v1.0.0</span>
      </div>
    </div>
    <!--footer fim-->
  </div>

</body>

</html>
<script>
  function exibirTalhoesDoUsuario() {
    fetch(`/medidas/tempo-real/${paramId}`, { cache: 'no-store' }).then(function (response) {
      if (response.ok) {
        response.json().then(function (resposta) {
          console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
          resposta.reverse();

          plotarGrafico(resposta, paramId);

        });
      } else {
        console.error('Nenhum dado encontrado ou erro na API');
      }
    })
      .catch(function (error) {
        console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
      });
  }

  const ctxDonut = document.getElementById('donut').getContext('2d');

  new Chart(ctxDonut, {
    type: 'doughnut',
    data: {
      labels: ['Padrão', 'Escassez', 'Excesso'],
      datasets: [{
        data: [55, 24, 90, 67],
        backgroundColor: ['red', 'blue', 'yellow'],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom'
        },
        title: {
          display: true,
          text: 'Situação dos Sensores'
        }
      }
    }
  });
</script>
<script src="js/redirecionamento.js"></script>